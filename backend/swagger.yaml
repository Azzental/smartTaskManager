openapi: 3.0.0
info:
  title: Smart Task Manager API
  version: 1.0.0
paths:
  /api/auth/register:
    post:
      summary: Register user
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [email, password]
              properties:
                email: { type: string }
                password: { type: string }
                name: { type: string }
      responses:
        '201': { description: User created }
  /api/auth/login:
    post:
      summary: Login user
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [email, password]
              properties:
                email: { type: string }
                password: { type: string }
      responses:
        '200': { description: Token returned }
  /api/tasks:
    get:
      summary: Get tasks
      security: [{ bearerAuth: [] }]
      responses:
        '200': { description: Tasks list }
    post:
      summary: Create task
      security: [{ bearerAuth: [] }]
      requestBody:
        content:
          application/json:
            schema: { $ref: '#/components/schemas/Task' }
      responses:
        '201': { description: Task created }
  /api/tasks/{id}:
    get:
      summary: Get task by ID
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200': { description: Task details }
    put:
      summary: Update task
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      requestBody:
        content:
          application/json:
            schema: { $ref: '#/components/schemas/Task' }
      responses:
        '200': { description: Task updated }
    delete:
      summary: Delete task
      security: [{ bearerAuth: [] }]
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200': { description: Task deleted }
components:
  schemas:
    Task:
      type: object
      properties:
        title: { type: string }
        description: { type: string }
        status: { type: string, enum: [todo, in_progress, completed] }
        priority: { type: string, enum: [low, medium, high] }
        deadline: { type: string, format: date-time }
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT